

<link rel="stylesheet" href="~/css/container.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/accordion.css" asp-append-version="true" />

<div class="container-principal">
    <div class="accordion">
        @foreach (var pregunta in ViewBag.Preguntas)
        {
            <div class="accordion-item">
                <div class="accordion-header">
                    <h3>
                        <button class="accordion-button" aria-expanded="false">
                            @pregunta.Pregunta.TITULO
                        </button>
                    </h3>
                </div>
                <div class="accordion-content">
                    
                    <p>Detalle: @pregunta.Pregunta.DETALLE_PREGUNTA</p>
                    <p>Fecha de Publicación: @pregunta.Pregunta.FECHA_PREGUNTA</p>
                    <a href="@Url.Action("RespuestasPregunta","Respuesta",new{ idpregunta= pregunta.Id})">Ver Respuestas</a>
                </div>
            </div>
        }
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>

    $(document).ready(function () {
        $('.accordion-button').click(function () {
            var accordionItem = $(this).closest('.accordion-item');
            var accordionContent = accordionItem.find('.accordion-content');

            // Oculta todos los demás contenidos
            $('.accordion-content').not(accordionContent).slideUp();
            // Cambia el estado de todos los demás botones
            $('.accordion-button').not(this).attr('aria-expanded', 'false');

            // Muestra u oculta el contenido actual
            accordionContent.slideToggle();
            // Cambia el estado del botón actual
            var expanded = $(this).attr('aria-expanded') === 'true';
            $(this).attr('aria-expanded', !expanded);
        });
    });



</script>
